# نظام اللعب - Sahara Trivia Nights

## نظرة عامة على النظام

هذا النظام يتبع الشكل التقليدي لألعاب المسابقات مع 36 سؤال موزعة على 6 فئات، مع نظام نقاط متقدم ووسائل مساعدة.

## 1. ترتيب الأسئلة داخل الجولة

### هيكل الجولة
- **عدد الأسئلة**: 36 سؤال بالضبط
- **عدد الفئات**: 6 فئات
- **توزيع الأسئلة**: 6 أسئلة لكل فئة
- **ترتيب الأسئلة**: من الأسهل للأصعب داخل كل فئة

### اختيار الفئات
- **الوضع العادي**: اللاعب يختار 6 فئات
- **وضع الفرق**: 
  - الفريق الأول يختار 3 فئات
  - الفريق الثاني يختار 3 فئات

### نظام النقاط
النقاط مرتبطة بمستوى صعوبة السؤال:
- **مستوى 1 (سهل)**: 10 نقاط
- **مستوى 2 (متوسط)**: 20 نقطة
- **مستوى 3 (صعب)**: 30 نقطة
- **مستوى 4 (صعب جداً)**: 40 نقطة
- **مستوى 5 (خبير)**: 50 نقطة

## 2. وسائل المساعدة (Lifelines)

كل فريق/لاعب يحصل على 3 مساعدات:

### التلميح (Hint)
- **الوظيفة**: يعطي تلميح يقرب الإجابة
- **الاستخدام**: يظهر شرح أو تلميح للسؤال الحالي
- **التكلفة**: استخدام واحد فقط

### التخطي (Skip)
- **الوظيفة**: يتجاوز السؤال بدون خسارة النقاط
- **الاستخدام**: ينتقل للسؤال التالي مباشرة
- **التكلفة**: استخدام واحد فقط

### إزالة خيارات (Eliminate)
- **الوظيفة**: يحذف إجابتين خاطئتين
- **الاستخدام**: يترك خيارين فقط للإجابة
- **التكلفة**: استخدام واحد فقط

## 3. نظام السرقة (Steal)

### آلية العمل
- عندما يجيب فريق إجابة خاطئة
- السؤال يُعتبر "ضائع"
- الفريق الثاني يحصل على فرصة للإجابة
- إذا أجاب الفريق الثاني صح، يحصل على النقاط

### شروط التفعيل
- يجب أن تكون اللعبة في وضع الفرق
- يجب أن تكون الإجابة الأولى خاطئة
- الفريق الثاني يحصل على 30 ثانية للإجابة

## 4. الترتيب العملي للجولة

### الخطوة 1: شراء اللعبة
- المستخدم يشتري حزمة لعب
- يحصل على حق الوصول لـ 6 فئات

### الخطوة 2: اختيار الفئات
- **الوضع العادي**: اختيار 6 فئات
- **وضع الفرق**: تقسيم 6 فئات بين فريقين

### الخطوة 3: بدء اللعبة
- تحميل 36 سؤال (6 من كل فئة)
- ترتيب الأسئلة حسب الصعوبة
- توزيع المساعدات (3 لكل فريق/لاعب)

### الخطوة 4: اللعب
- كل سؤال له 30 ثانية للإجابة
- إمكانية استخدام المساعدات
- نظام السرقة في وضع الفرق

### الخطوة 5: النتائج
- عرض إجمالي النقاط
- مقارنة مع النقاط الممكنة
- تحديد الفائز (في وضع الفرق)
- خيارات: لعب مرة أخرى أو العودة للقائمة

## 5. قاعدة البيانات

### الجداول الرئيسية
- `game_purchases`: مشتريات الألعاب
- `game_purchase_categories`: ربط المشتريات بالفئات
- `team_games`: ألعاب الفرق
- `team_game_answers`: إجابات ألعاب الفرق
- `game_answers`: إجابات الألعاب العادية

### الحقول الجديدة
- `points_earned`: النقاط المكتسبة
- `lifeline_used`: نوع المساعدة المستخدمة
- `team`: الفريق (team1/team2)

## 6. الواجهات

### SelectCategories.tsx
- اختيار 6 فئات
- وضع الفرق مع تقسيم 3+3
- نصائح استراتيجية
- توصيات للتوازن

### QuizGame.tsx
- عرض 36 سؤال
- نظام النقاط المرتبط بالصعوبة
- المساعدات الثلاث
- نظام السرقة
- عرض النتائج النهائية

## 7. الميزات التقنية

### الأداء
- تحميل الأسئلة حسب الفئات المختارة
- ترتيب الأسئلة حسب الصعوبة
- حفظ الإجابات والنقاط في الوقت الفعلي

### الأمان
- التحقق من صحة الإجابات
- منع التلاعب في النقاط
- حماية المساعدات من الاستخدام المتكرر

### التوسع
- إمكانية إضافة فئات جديدة
- تعديل نظام النقاط
- إضافة مساعدات جديدة

## 8. التحديثات المستقبلية

### الميزات المقترحة
- إضافة مساعدة "إضافة وقت"
- نظام البطولات
- إحصائيات مفصلة
- مشاركة النتائج

### التحسينات
- تحسين واجهة المستخدم
- إضافة المزيد من الرسوم المتحركة
- تحسين الأداء
- دعم المزيد من اللغات
