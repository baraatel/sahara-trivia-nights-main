# ูุธุงู ุฅุฏุงุฑุฉ ุงูุญุฒู - Sahara Trivia Nights

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุฅุฏุงุฑุฉ ุงูุญุฒู ุจูุฌุงุญ ูู Sahara Trivia Nightsุ ููุง ูุชูุญ ูููุฏูุฑูู ุงูุชุญูู ุงููุงูู ูู ุญุฒู ุงูุฃูุนุงุจ ุงููุชุงุญุฉ ูููุณุชุฎุฏููู.

## ุงูููุฒุงุช ุงูููุฌุฒุฉ

### โ ุฅุฏุงุฑุฉ ุงูุญุฒู
- ุฅุถุงูุฉ ุญุฒู ุฌุฏูุฏุฉ ูุน ุชุญุฏูุฏ ุงูุณุนุฑ ูุนุฏุฏ ุงูุฃูุนุงุจ
- ุชุนุฏูู ุงูุญุฒู ุงูููุฌูุฏุฉ
- ุญุฐู ุงูุญุฒู
- ุชูุนูู/ุฅูุบุงุก ุชูุนูู ุงูุญุฒู
- ุชุญุฏูุฏ ุงูุญุฒู ุงูุฃูุซุฑ ุดุนุจูุฉ

### โ ุฅุฏุงุฑุฉ ุงูููุฒุงุช
- ุฅุถุงูุฉ ููุฒุงุช ููู ุญุฒูุฉ (ุนุฑุจู/ุฅูุฌููุฒู)
- ุฏุนู ุฃููููุงุช ูุฎุชููุฉ ููููุฒุงุช
- ุชุฑุชูุจ ุงูููุฒุงุช ุญุณุจ ุงูุฃูููุฉ

### โ ุงูุชุณุนูุฑ ุงููุฑู
- ุฃุณุนุงุฑ ูุฎุชููุฉ ููู ุญุฒูุฉ
- ุนุฑุถ ุงูุชูููุฑ ุงูุชููุงุฆู
- ุญุณุงุจ ุนุฏุฏ ุงูุฃูุนุงุจ ูู ูู ุญุฒูุฉ

### โ ูุงุฌูุฉ ุงููุณุชุฎุฏู
- ุตูุญุฉ ุดุฑุงุก ูุญุฏุซุฉ ุชุนุฑุถ ุฌููุน ุงูุญุฒู
- ููุญุฉ ุฅุฏุงุฑุฉ ุดุงููุฉ
- ุฅุญุตุงุฆูุงุช ููุตูุฉ ููุญุฒู

## ููููุฉ ุงูุชุดุบูู

### 1. ูุชุทูุจุงุช ุงููุธุงู

```bash
# ุชุฃูุฏ ูู ุชุซุจูุช Node.js (ุงูุฅุตุฏุงุฑ 16 ุฃู ุฃุญุฏุซ)
node --version

# ุชุฃูุฏ ูู ุชุซุจูุช npm
npm --version

# ุชุฃูุฏ ูู ุชุซุจูุช Docker Desktop (ูู Supabase ุงููุญูู)
docker --version
```

### 2. ุชุดุบูู Supabase ุงููุญูู

```bash
# ุชุดุบูู Supabase
npx supabase start

# ุชุทุจูู ุงููุฌุฑุงุช
npx supabase db push
```

### 3. ุชุดุบูู ุงูุชุทุจูู

```bash
# ุชุซุจูุช ุงูุชุจุนูุงุช
npm install

# ุชุดุบูู ุงูุชุทุจูู
npm run dev
```

### 4. ุงููุตูู ููุชุทุจูู

- **ุงูุชุทุจูู ุงูุฑุฆูุณู**: `http://localhost:8092`
- **ููุญุฉ ุงูุฅุฏุงุฑุฉ**: `http://localhost:8092/admin`
- **Supabase Studio**: `http://localhost:54323`

## ุงูุญุฒู ุงูุงูุชุฑุงุถูุฉ

ุชู ุฅูุดุงุก 4 ุญุฒู ุงูุชุฑุงุถูุฉ ุชููุงุฆูุงู:

| ุงูุญุฒูุฉ | ุงูุณุนุฑ | ุนุฏุฏ ุงูุฃูุนุงุจ | ุงูุชูููุฑ |
|--------|-------|-------------|---------|
| ุญุฒูุฉ ูุนุจุฉ ูุงุญุฏุฉ | $9.99 | 1 | - |
| ุญุฒูุฉ 3 ุฃูุนุงุจ | $26.99 | 3 | $2.98 |
| ุญุฒูุฉ 5 ุฃูุนุงุจ | $42.99 | 5 | $7.96 |
| ุญุฒูุฉ 10 ุฃูุนุงุจ | $74.99 | 10 | $24.91 |

## ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฌุฏูุฏุฉ

1. **`game_packages`** - ุฌุฏูู ุงูุญุฒู ุงูุฑุฆูุณู
2. **`game_package_features`** - ููุฒุงุช ูู ุญุฒูุฉ
3. **ุชุญุฏูุซ `game_purchases`** - ุฅุถุงูุฉ ูุฑุฌุน ููุญุฒูุฉ

### ุงูุฏูุงู ูุงููุธุงุฆู

- `calculate_package_savings()` - ุญุณุงุจ ุงูุชูููุฑ
- `get_package_stats()` - ุฅุญุตุงุฆูุงุช ุงูุญุฒู
- `get_package_with_features()` - ุงูุญุตูู ุนูู ุญุฒูุฉ ูุน ููุฒุงุชูุง
- `log_package_change()` - ุชุณุฌูู ุชุบููุฑุงุช ุงูุญุฒู

### ุงูู Views

- `package_sales_summary` - ููุฎุต ูุจูุนุงุช ุงูุญุฒู

## ุงููููุงุช ุงููุถุงูุฉ/ุงููุญุฏุซุฉ

### ูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `supabase/migrations/20250818000000_game_packages.sql`
- `supabase/migrations/20250818000001_package_improvements.sql`

### ููููุงุช React
- `src/components/admin/PackageManager.tsx`
- `src/components/admin/PackageStats.tsx`

### ุตูุญุงุช ูุญุฏุซุฉ
- `src/pages/BuyGame.tsx`
- `src/pages/Admin.tsx`
- `src/components/admin/AdminSidebar.tsx`

### ุฃููุงุน TypeScript
- `src/integrations/supabase/types.ts` (ูุญุฏุซ)

### ุงูุชูุซูู
- `PACKAGE_MANAGEMENT_SYSTEM.md`
- `README_PACKAGE_SYSTEM.md`

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูููุฏูุฑูู

1. **ุฅุถุงูุฉ ุญุฒูุฉ ุฌุฏูุฏุฉ**:
   - ุงูุชูู ุฅูู "ุฅุฏุงุฑุฉ ุงูุญุฒู"
   - ุงููุฑ ุนูู "ุฅุถุงูุฉ ุญุฒูุฉ ุฌุฏูุฏุฉ"
   - ุงููุฃ ุงููุนูููุงุช ุงููุทููุจุฉ
   - ุฃุถู ุงูููุฒุงุช
   - ุงุญูุธ ุงูุญุฒูุฉ

2. **ุชุนุฏูู ุญุฒูุฉ ููุฌูุฏุฉ**:
   - ุงููุฑ ุนูู ุฃููููุฉ ุงูุชุนุฏูู
   - ุนุฏู ุงููุนูููุงุช
   - ุงุญูุธ ุงูุชุบููุฑุงุช

3. **ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช**:
   - ุงูุชูู ุฅูู "ุฅุญุตุงุฆูุงุช ุงูุญุฒู"
   - ุฑุงุฌุน ุงูุฃุฏุงุก ูุงููุจูุนุงุช

### ูููุณุชุฎุฏููู

1. **ุนุฑุถ ุงูุญุฒู**:
   - ุงูุชูู ุฅูู ุตูุญุฉ "ุดุฑุงุก ูุนุจุฉ"
   - ุงุฎุชุฑ ุงูุญุฒูุฉ ุงูููุงุณุจุฉ

2. **ุดุฑุงุก ุงูุญุฒูุฉ**:
   - ุงููุฑ ุนูู "ุดุฑุงุก ุงูุญุฒูุฉ"
   - ุงูุชูู ูุงุฎุชูุงุฑ ุงููุฆุงุช

## ุงูุฃูุงู

- **RLS Policies**: ุชู ุชุทุจูู ุณูุงุณุงุช ุฃูุงู ููุงุณุจุฉ
- **ุงูุชุญูู ูู ุงูุตูุงุญูุงุช**: ููุท ุงููุฏูุฑูู ูููููู ุฅุฏุงุฑุฉ ุงูุญุฒู
- **ุงูุชุญูู ูู ุงูุจูุงูุงุช**: ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ูุจู ุงูุญูุธ
- **ุชุณุฌูู ุงูุชุบููุฑุงุช**: ุชุณุฌูู ุฌููุน ุงูุชุบููุฑุงุช ูู ุงูุญุฒู

## ุงูุฃุฏุงุก

- **Indexes**: ุชู ุฅุถุงูุฉ ููุงุฑุณ ูุชุญุณูู ุงูุฃุฏุงุก
- **Constraints**: ูููุฏ ูุถูุงู ุตุญุฉ ุงูุจูุงูุงุช
- **Triggers**: triggers ูุชุญุฏูุซ ุงูุจูุงูุงุช ุชููุงุฆูุงู

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ

1. **ุงูุญุฒูุฉ ูุง ุชุธูุฑ**:
   - ุชุญูู ูู `is_active = true`
   - ุชุญูู ูู `sort_order`

2. **ุฎุทุฃ ูู ุงูุณุนุฑ**:
   - ุชุฃูุฏ ูู ุฃู ุงูุณุนุฑ > 0
   - ุชุญูู ูู ุชูุณูู ุงูุณุนุฑ

3. **ูุดุงูู ูู ุงูููุฒุงุช**:
   - ุชุฃูุฏ ูู ูุฌูุฏ ุงููุต ุงูุนุฑุจู ูุงูุฅูุฌููุฒู
   - ุชุญูู ูู `sort_order`

### ุณุฌูุงุช ุงูุฃุฎุทุงุก

```bash
# ุฑุงุฌุน ุณุฌูุงุช Supabase
npx supabase logs

# ุฑุงุฌุน console ุงููุชุตูุญ
F12 > Console
```

## ุงูุชุทููุฑ ุงููุณุชูุจูู

### ุงูููุฒุงุช ุงูููุชุฑุญุฉ

- [ ] ุฎุตููุงุช ููุณููุฉ
- [ ] ุญุฒู ูุฎุตุตุฉ ุญุณุจ ุงููุฆุงุช
- [ ] ุชุฌุฏูุฏ ุงูุญุฒู
- [ ] ุฃููุงุฏ ุฎุตู
- [ ] ุฅุดุนุงุฑุงุช ุนูุฏ ุชุบููุฑ ุงูุญุฒู

### ุงูุชุญุณููุงุช ุงูุชูููุฉ

- [ ] Cache ููุญุฒู ุงููุดุทุฉ
- [ ] Webhooks ููุชูุงูู
- [ ] API ููุญุฒู
- [ ] ุชุญูููุงุช ูุชูุฏูุฉ

## ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:

1. ุฑุงุฌุน ุงูุชูุซูู ุงููุฑูู
2. ุชุญูู ูู ุณุฌูุงุช ุงูุฃุฎุทุงุก
3. ุงุชุตู ุจูุฑูู ุงูุชุทููุฑ

## ุงูุฎูุงุตุฉ

ุชู ุชุทููุฑ ูุธุงู ุฅุฏุงุฑุฉ ุงูุญุฒู ุจูุฌุงุญ ูุน ุฌููุน ุงูููุฒุงุช ุงููุทููุจุฉ:

โ **ุฅุฏุงุฑุฉ ุงูุญุฒู**: ุฅุถุงูุฉุ ุชุนุฏููุ ุญุฐูุ ุชูุนูู/ุฅูุบุงุก ุชูุนูู
โ **ุฅุฏุงุฑุฉ ุงูููุฒุงุช**: ููุฒุงุช ุนุฑุจูุฉ/ุฅูุฌููุฒูุฉ ูุน ุฃููููุงุช
โ **ุงูุชุณุนูุฑ ุงููุฑู**: ุฃุณุนุงุฑ ูุฎุชููุฉ ูุฎุตููุงุช ุชููุงุฆูุฉ
โ **ูุงุฌูุฉ ุงููุณุชุฎุฏู**: ุตูุญุงุช ูุญุฏุซุฉ ููุญุณูุฉ
โ **ุงูุฃูุงู**: RLS policies ูุชุณุฌูู ุงูุชุบููุฑุงุช
โ **ุงูุฃุฏุงุก**: ููุงุฑุณ ููููุฏ ูุญุณูุฉ
โ **ุงูุชูุซูู**: ุฏููู ุดุงูู ููุงุณุชุฎุฏุงู

ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูู ุงูุฅูุชุงุฌ! ๐

## ุฑูุงุจุท ุณุฑูุนุฉ

- **ุงูุชุทุจูู**: http://localhost:8092
- **ููุญุฉ ุงูุฅุฏุงุฑุฉ**: http://localhost:8092/admin
- **Supabase Studio**: http://localhost:54323
- **GitHub**: [ุฑุงุจุท ุงููุณุชูุฏุน]

## ูุนูููุงุช ุงูุงุชุตุงู

- **ุงููุทูุฑ**: ูุฑูู Sahara Trivia Nights
- **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**: [ุงูุจุฑูุฏ ุงูุฅููุชุฑููู]
- **ุงูุชุงุฑูุฎ**: ุฃุบุณุทุณ 2025
